# Pull Request（プルリクエスト）とコミットの作法

チーム開発でスムーズに作業・レビューを進めるための，コミットのルールとPR作成時の基準です．

## 1. コミットの間隔と粒度 (Commit Frequency)
**「細かいコミット」を心がけてください．**
- **理想の粒度**: 「1つの関数を作った」「1つのバグを直した」「UIの配置を変更した」など，意味のある小さな単位で区切るのがベストです．
- **NGな例**: 1日の終わりに「今日の作業分全部！」という巨大なコミットを1つだけ作るのは絶対に避けてください．万が一バグが入った際に，「どの変更が原因で壊れたのか」を探すのが非常に難しくなります．
- **こまめなPush**: ローカル（自分のPC）でコミットしたら，キリの良いタイミングでリモート（GitHub）にもプッシュ（Push）しておくと，PCが飛んだ際のバックアップにもなります．

## 2. コミットメッセージの作法 (Commit Messages)
「**プレフィックス（接頭辞）**」をつけて，コミットの目的を一目でわかるようにします．
以下のプレフィックスをコミットメッセージの先頭につけてください．

| プレフィックス | 意味・用途 | 例 |
|---|---|---|
| `feat:` | 新しい機能の追加 | `feat: プレイヤーのジャンプ判定を追加` |
| `fix:` | バグの修正 | `fix: ジャンプ中のアニメーションのバグを修正` |
| `refactor:` | 動作は変えずに，コードを綺麗にした場合 | `refactor: 無駄な変数を削除` |
| `clean:` | 不要なコードの削除など | `clean: 未使用のコードを削除` |
| `delete:` | ファイルやモジュールを削除する場合 | `delete: デバッグ用ファイルを削除` |
| `rename:` | ファイル名を変更する場合 | `rename: ファイル名を変更` |
| `move:` | ファイルを移動する場合 | `move: ファイルを移動` |
| `docs:` | ドキュメントやREADMEなどの修正 | `docs: コミットガイドラインを更新` |
| `chore:` | ビルドプロセスや開発環境の設定など | `chore: ビルドプロセスを更新` |

> [!TIP]
> コミットメッセージは「後から他の人が（あるいは未来の自分が）見て，何を変えたのか分かる」ことが最大の目的です．「あ」や「修正」だけなど，中身がわからないメッセージはやめましょう．
> `wip` (Work In Progress) などのコミットについては，レビュー時に差分の追跡が困難になるため非推奨です．

## 3. プルリクエスト（PR）作成時のルールとセルフチェック
PRを作成する際は，品質を保ち，レビュアーの負担を減らすために以下の項目を意識・確認してください．

### タイトルと説明文
- **分類プレフィックスの導入**: タイトルの先頭に以下のプレフィックスをつけてください．（例: `feat: プレイヤーのジャンプ処理追加`）
- **コミットメッセージとの重複の削除**: コミットメッセージからは読み取れない，全体の修正方針や，動作確認の内容などを中心に書いてください．
- **タイトルは簡潔か**: 一目で変更内容がわかるようなタイトルにしてください．
- **説明と背景**: 変更に対する具体的な説明，およびその背景（なぜこの変更が必要だったのか）が明記されているか確認してください．

| プレフィックス | 意味・用途 | 例 |
|---|---|---|
| `feat:` | 新しい機能の追加 | `feat: プレイヤーのジャンプ処理を追加` |
| `fix:` | バグの修正 | `fix: ジャンプ中のアニメーションのバグを修正` |
| `docs:` | ドキュメントやREADMEなどの修正 | `docs: コミットガイドラインを更新` |
| `chore:` | ビルドプロセスや開発環境の設定など | `chore: ビルドプロセスを更新` |

### 変更の範囲・サイズ
- **1つの目的か**: 1つの内容に対する変更であるか確認し，「ついでの作業（別のバグ修正など）」が含まれている場合は別のPRに分けてください．
- **関連ファイルのみか**: PRに必要な関連ファイルのみが含まれており，無関係な変更が混入していないか確認してください．
- **変更行数の推奨**: コードの変更量は **500行以内** であることを推奨します（レビュー品質を保つため）．
- **変更ファイル数の推奨**: 変更されるファイル数は **20ファイル未満** であることを推奨します．

### 内容の正確性（セルフチェック）
- [ ] **エッジケースの考慮**: 極端な入力値や特殊な状況（エッジケース）を考慮した実装になっているか．
- [ ] **コミットメッセージ**: メッセージが明確で，変更の意図が伝わるものになっているか．
- [ ] **デバッグ用コードの削除**: `Debug.Log` や不要な検証用コードは完全に削除されているか．
- [ ] **不要なコメントの削除**: 意味をなさない残骸コメントや，古いコードがコメントアウトのまま残っていないか．
- [ ] **スペルチェック**: 変数名，関数名，UIテキストなどのスペルミスがないか一通り確認したか．
