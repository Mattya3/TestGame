# Unity における開発ルール・作法

Unityでのチーム開発を円滑に進めるため，最もトラブルが起きやすいポイントに絞ったルールです．
特にGitなどを使ったバージョン管理において，これらのルールを守らないとファイルが壊れたり，エラーで開けなくなる原因になります．必ず確認してください．
> このルールは生成AIによって作成されました．そのため，開発の状況に応じて変更される可能性は十分にあります．

## 1. 共同作業における Scene の扱い（超重要！）
**複数人で同時に同じSceneファイル（`.unity`）を編集するのは基本的にやめてください．**
高確率でコンフリクト（競合）が発生し，ファイルが壊れて修復不可能になります．

- **対策**:
  - 各自が作業用のテストScene（`Test_Taro`, `Test_Hanako` など）を作成し，そこで動作確認を行う．
  - 本番用のScene（例：`MainScene`）を編集する人は，チャット等で「今からMainSceneを編集します」と宣言（ロック）してから作業する．
  - 基本的にSceneに直接オブジェクトを置かず，**すべてPrefab化**して配置する．

## 2. Prefab（プレハブ）の運用ルール
UIやキャラクター，ステージギミック等の各種オブジェクトは必ず**Prefab化**（またはPrefab Variant化）してコミットしてください．

- Sceneファイルの変更を最小限に抑えるため，プロパティの変更やコンポーネントの追加はScene上にあるオブジェクトではなく，ProjectウィンドウにあるPrefab本体（`.prefab`ファイル）に対して行ってください．

## 3. .metaファイルの扱い（超重要！）
Unityが生成する `.meta` ファイルには，各アセットのGUID（一意のID）が記録されており，これがファイル間の「参照関係」を保っています．

- スクリプト・画像・プレハブなどを追加・変更した時は，**必ず `.meta` ファイルも一緒にコミット（PRに含める）**してください．
- 漏れると，他の人の環境で「スクリプトがアタッチされていない（Missing）」「画像が外れている」といった致命的なエラーが発生します．
- GitのGUIツール（SourceTreeなど）を使う際，`.meta` ファイルのチェックを外さないように注意してください．

## 4. アセットのディレクトリ（フォルダ）構成
プロジェクト内のファイル整理ルールです．`Assets` 以下に無造作に置かないようにしましょう．

- `Assets/Scripts/` : C#スクリプト．機能やシステムごとにサブフォルダを作ります（例: `Player`, `UI`, `System`）．
- `Assets/Prefabs/` : 個別に作成したプレハブファイル．
- `Assets/Scenes/` : Sceneファイル．各自のテスト用Sceneと本番用Sceneで分けるなど工夫します．
- `Assets/Sprites/` または `Assets/Textures/` : 2D画像やテクスチャ．
- `Assets/Audio/` : 音声ファイル．さらに `BGM`, `SE` のようにフォルダを分けると分かりやすいです．
- `Assets/Materials/`, `Assets/Models/` : 3Dモデル関連．

## 5. 無駄なコミットの防止と容量制限
- `Library`, `Logs`, `Temp`, `Obj`, `Build` などの自動生成・一時ディレクトリはGitで管理しません．（既に `.gitignore` ファイルで除外設定されているはずですが，もしコミットに含まれてしまった場合は外してください）
- サイズが大きすぎるファイル（100MB以上の動画や巨大な3Dモデル）はGitに乗せると重くなるため，事前に相談してから追加してください．
